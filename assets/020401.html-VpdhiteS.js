import{_ as a,r as e,o as p,c as t,a as n,b as l,d as c,e as i}from"./app-Baml9_qe.js";const o={},u=i(`<blockquote><p>JavaScript声明过的变量提升往往会影响到我们对变量的正常获取，所以特写此文，以便以后翻阅。</p></blockquote><h2 id="什么是变量提升" tabindex="-1"><a class="header-anchor" href="#什么是变量提升"><span>什么是变量提升</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token comment">//变量声明提升</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">//上述代码等价于</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> a<span class="token punctuation">,</span>f<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">;</span></span>
<span class="line">    a <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    b <span class="token operator">=</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    c <span class="token operator">=</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>js中定义变量有两种情况：（注意在方法外不加var是不能定义变量的，出现xx is not defined）</p><ol><li>都加var，在方法内则是局部变量，在方法外则是全局变量。</li><li>在方法内,加var为局部变量，不加var则是全局变量（在执行当前方法之后）</li></ol></blockquote><h2 id="变量提升案例" tabindex="-1"><a class="header-anchor" href="#变量提升案例"><span>变量提升案例</span></a></h2><h3 id="案例1" tabindex="-1"><a class="header-anchor" href="#案例1"><span>案例1</span></a></h3><p>由于test1函数里面定义了变量a，由于</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;I\\&#39;m a in all&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">test1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;I\\&#39;m a in test1&#39;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line"><span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述代码相当于</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;I\\&#39;m a in all&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">test1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> a</span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// undefined</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// I&#39;m a in all（因为window指的是全局环境）</span></span>
<span class="line"></span>
<span class="line">    a <span class="token operator">=</span> <span class="token string">&#39;I\\&#39;m a in test1&#39;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// I&#39;m a in test1</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line"><span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="案例2" tabindex="-1"><a class="header-anchor" href="#案例2"><span>案例2</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;I\\&#39;m a in all&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">test2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// I&#39;m a in all</span></span>
<span class="line"></span>
<span class="line">    a <span class="token operator">=</span> <span class="token string">&#39;I\\&#39;m a in test2&#39;</span> <span class="token comment">// 这里本来就是赋值，所以上边的a会输出全局变量</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// I&#39;m a in test2</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="案例3" tabindex="-1"><a class="header-anchor" href="#案例3"><span>案例3</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">function</span> <span class="token function">test3_1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 报错（Uncaught ReferenceError: a is not defined），阻断以下代码的运行</span></span>
<span class="line"></span>
<span class="line">    a <span class="token operator">=</span> <span class="token string">&#39;I\\&#39;m a in test3&#39;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 不输出</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></span>
<span class="line"><span class="token function">test3_1</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 不输出</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">function</span> <span class="token function">test3_2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    a <span class="token operator">=</span> <span class="token string">&#39;I\\&#39;m a in test3&#39;</span> <span class="token comment">// 全局变量（但是在方法执行后生效）</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// I&#39;m a in test3</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// console.log(a) // 如果在方法执行前打印，还是会报错（Uncaught ReferenceError: a is not defined），阻断以下代码的运行</span></span>
<span class="line"></span>
<span class="line"><span class="token function">test3_2</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// I&#39;m a in test3（本来没有全局变量a，当test3运行时，定义了一个全局变量a，所以这里会输出）</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15),r={href:"http://recoluan.gitlab.io",target:"_blank",rel:"noopener noreferrer"},d=n("strong",null,"午后南杂",-1);function k(v,m){const s=e("ExternalLinkIcon");return p(),t("div",null,[u,n("p",null,[l("个人博客："),n("a",r,[d,c(s)])])])}const g=a(o,[["render",k],["__file","020401.html.vue"]]),h=JSON.parse('{"path":"/blogs/frontEnd/2018/020401.html","title":"js变量提升以及var对变量提升的影响","lang":"zh-CN","frontmatter":{"title":"js变量提升以及var对变量提升的影响","date":"2018-02-04T00:00:00.000Z","tags":["javascript"],"categories":["frontEnd"]},"headers":[{"level":2,"title":"什么是变量提升","slug":"什么是变量提升","link":"#什么是变量提升","children":[]},{"level":2,"title":"变量提升案例","slug":"变量提升案例","link":"#变量提升案例","children":[{"level":3,"title":"案例1","slug":"案例1","link":"#案例1","children":[]},{"level":3,"title":"案例2","slug":"案例2","link":"#案例2","children":[]},{"level":3,"title":"案例3","slug":"案例3","link":"#案例3","children":[]}]}],"git":{"createdTime":1536508429000,"updatedTime":1590769810000,"contributors":[{"name":"reco_luan","email":"recoluan@outlook.com","commits":1}]},"filePathRelative":"blogs/frontEnd/2018/020401.md"}');export{g as comp,h as data};
