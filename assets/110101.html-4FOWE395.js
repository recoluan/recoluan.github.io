import{_ as n,r as e,o as t,c as l,a as s,b as i,d as o,e as r}from"./app-Baml9_qe.js";const p={},c=r(`<h2 id="方法介绍" tabindex="-1"><a class="header-anchor" href="#方法介绍"><span>方法介绍</span></a></h2><ol><li>启动MongoDB服务（禁用访问权限控制）</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">mongod <span class="token parameter variable">--port</span> <span class="token number">27017</span> <span class="token parameter variable">--dbpath</span> d:/file/mongo</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>连接至MongoDB实例</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">mongo <span class="token parameter variable">--port</span> <span class="token number">27017</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>添加管理员账号</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">use admin</span>
<span class="line">db.createUser<span class="token punctuation">(</span><span class="token punctuation">{</span>user: <span class="token string">&quot;username1&quot;</span>, pwd: <span class="token string">&quot;123456&quot;</span>, roles: <span class="token punctuation">[</span><span class="token punctuation">{</span>role: <span class="token string">&quot;userAdminAnyDatabase&quot;</span>, db: <span class="token string">&quot;admin&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>重启MongoDB实例，并启用访问权限控制</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">mongod <span class="token parameter variable">--auth</span> <span class="token parameter variable">--port</span> <span class="token number">27017</span> <span class="token parameter variable">--dbpath</span> d:/file/mongo</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="5"><li>连接至MongoDB实例</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">mongo <span class="token parameter variable">--port</span> <span class="token number">27017</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="6"><li>切换至admin库，并登陆</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">use admin</span>
<span class="line">db.auth<span class="token punctuation">(</span><span class="token string">&quot;username1&quot;</span>,<span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="7"><li>添加普通用户账号</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">use dbName</span>
<span class="line">db.createUser<span class="token punctuation">(</span><span class="token punctuation">{</span>user: <span class="token string">&quot;username2&quot;</span>, pwd: <span class="token string">&quot;123456&quot;</span>, roles: <span class="token punctuation">[</span><span class="token punctuation">{</span>role: <span class="token string">&quot;readWrite&quot;</span>, db: <span class="token string">&quot;dbName&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="8"><li>使用普通用户账号登陆</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">mongo <span class="token parameter variable">--port</span> <span class="token number">27017</span></span>
<span class="line">use dbName</span>
<span class="line">db.auth<span class="token punctuation">(</span><span class="token string">&quot;username2&quot;</span>,<span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="9"><li><strong><em>切记</em></strong> 登陆或创建mongo连接实例的时候需要用创建的普通账户及其所在数据库的名字</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="line">mongodb://username2:123456@host:port/dbName&#39;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,19),d={href:"http://recoluan.gitlab.io",target:"_blank",rel:"noopener noreferrer"},u=s("strong",null,"午后南杂",-1);function m(h,b){const a=e("ExternalLinkIcon");return t(),l("div",null,[c,s("p",null,[i("个人博客："),s("a",d,[u,o(a)])])])}const v=n(p,[["render",m],["__file","110101.html.vue"]]),k=JSON.parse('{"path":"/blogs/backEnd/2017/110101.html","title":"mongoDB设置权限配置","lang":"zh-CN","frontmatter":{"title":"mongoDB设置权限配置","date":"2017-11-01T00:00:00.000Z","tags":["mongoDB"],"categories":["backEnd"]},"headers":[{"level":2,"title":"方法介绍","slug":"方法介绍","link":"#方法介绍","children":[]}],"git":{"createdTime":1554691651000,"updatedTime":1590769810000,"contributors":[{"name":"reco_luan","email":"recoluan@outlook.com","commits":1}]},"filePathRelative":"blogs/backEnd/2017/110101.md"}');export{v as comp,k as data};
